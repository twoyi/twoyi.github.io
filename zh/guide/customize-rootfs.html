<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>制作自己的 ROM | 两仪</title>
    <meta name="description" content="一个轻量级的 Android 容器">
    <meta name="generator" content="VitePress v1.5.0">
    <link rel="preload stylesheet" href="/assets/style.C5kavFOY.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.omf29H9-.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.3qwjDiiM.js">
    <link rel="modulepreload" href="/assets/chunks/framework.D5XSuxOt.js">
    <link rel="modulepreload" href="/assets/chunks/rootfs_folder.C3a5-Twr.js">
    <link rel="modulepreload" href="/assets/zh_guide_customize-rootfs.md.Ck_hgvwq.lean.js">
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2610070972052494" crossorigin="anonymous"></script>
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-38babfd4><!--[--><!--]--><!--[--><span tabindex="-1" data-v-8a7bbb3e></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-8a7bbb3e> Skip to content </a><!--]--><!----><header class="VPNav" data-v-38babfd4 data-v-ac512b64><div class="VPNavBar" data-v-ac512b64 data-v-35658057><div class="wrapper" data-v-35658057><div class="container" data-v-35658057><div class="title" data-v-35658057><div class="VPNavBarTitle" data-v-35658057 data-v-4fe0960e><a class="title" href="/" data-v-4fe0960e><!--[--><!--]--><!----><span data-v-4fe0960e>两仪</span><!--[--><!--]--></a></div></div><div class="content" data-v-35658057><div class="content-body" data-v-35658057><!--[--><!--]--><div class="VPNavBarSearch search" data-v-35658057><!----></div><!----><!----><div class="VPNavBarAppearance appearance" data-v-35658057 data-v-802810a9><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-802810a9 data-v-93c41351 data-v-78f9a3f1><span class="check" data-v-78f9a3f1><span class="icon" data-v-78f9a3f1><!--[--><span class="vpi-sun sun" data-v-93c41351></span><span class="vpi-moon moon" data-v-93c41351></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-35658057 data-v-929b8687 data-v-92f540f0><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-92f540f0><span class="vpi-more-horizontal icon" data-v-92f540f0></span></button><div class="menu" data-v-92f540f0><div class="VPMenu" data-v-92f540f0 data-v-55d87902><!----><!--[--><!--[--><!----><div class="group" data-v-929b8687><div class="item appearance" data-v-929b8687><p class="label" data-v-929b8687>Appearance</p><div class="appearance-action" data-v-929b8687><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-929b8687 data-v-93c41351 data-v-78f9a3f1><span class="check" data-v-78f9a3f1><span class="icon" data-v-78f9a3f1><!--[--><span class="vpi-sun sun" data-v-93c41351></span><span class="vpi-moon moon" data-v-93c41351></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-35658057 data-v-61c8acec><span class="container" data-v-61c8acec><span class="top" data-v-61c8acec></span><span class="middle" data-v-61c8acec></span><span class="bottom" data-v-61c8acec></span></span></button></div></div></div></div><div class="divider" data-v-35658057><div class="divider-line" data-v-35658057></div></div></div><!----></header><div class="VPLocalNav empty fixed" data-v-38babfd4 data-v-6315b794><div class="container" data-v-6315b794><!----><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-6315b794 data-v-20b215fd><button data-v-20b215fd>Return to top</button><!----></div></div></div><!----><div class="VPContent" id="VPContent" data-v-38babfd4 data-v-603091ae><div class="VPDoc has-aside" data-v-603091ae data-v-af495c62><!--[--><!--]--><div class="container" data-v-af495c62><div class="aside" data-v-af495c62><div class="aside-curtain" data-v-af495c62></div><div class="aside-container" data-v-af495c62><div class="aside-content" data-v-af495c62><div class="VPDocAside" data-v-af495c62 data-v-b1f412fa><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-b1f412fa data-v-6360a1ca><div class="content" data-v-6360a1ca><div class="outline-marker" data-v-6360a1ca></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-6360a1ca>On this page</div><ul class="VPDocOutlineItem root" data-v-6360a1ca data-v-d51fd7f8><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-b1f412fa></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-af495c62><div class="content-container" data-v-af495c62><!--[--><!--]--><main class="main" data-v-af495c62><div style="position:relative;" class="vp-doc _zh_guide_customize-rootfs" data-v-af495c62><div><h1 id="制作自己的-rom" tabindex="-1">制作自己的 ROM <a class="header-anchor" href="#制作自己的-rom" aria-label="Permalink to &quot;制作自己的 ROM&quot;">​</a></h1><p>两仪在 <code>0.5.0</code> 版本及以上支持导入自定义的 ROM 并引导系统，以下是制作自定义 ROM 的操作方法。</p><p>两仪的 ROM 是一个 <code>7z</code> 格式的压缩文件；因此您需要先下载 <code>7z</code> 压缩工具；这里有<a href="https://www.7-zip.org/download.html" target="_blank" rel="noreferrer">下载地址</a></p><h2 id="获取原始-rootfs" tabindex="-1">获取原始 rootfs <a class="header-anchor" href="#获取原始-rootfs" aria-label="Permalink to &quot;获取原始 rootfs&quot;">​</a></h2><p>首先我们需要一个原始的 rootfs 文件来进行修改，这里推荐使用官方发布的安装包中自带的 rootfs；您可以在两仪 <a href="https://twoyi.io" target="_blank" rel="noreferrer">官网</a> 下载最新的两仪安装包文件；然后使用 zip 工具解压缩此安装包；在解压缩后的目录 <code>assets</code> 中存在一个 <code>rootfs.7z</code> 的文件；</p><p><img src="/rootfs.png" alt="rootfs"></p><p>然后使用 <code>7z</code> 工具解压缩此文件，我们可以得到一个文件夹，这个文件夹为两仪的 rootfs.7z。</p><p><img src="/rootfs_folder.jpg" alt="rootfs-file-tree"></p><h2 id="修改-rootfs" tabindex="-1">修改 rootfs <a class="header-anchor" href="#修改-rootfs" aria-label="Permalink to &quot;修改 rootfs&quot;">​</a></h2><p>通过你熟悉的方式修改 rootfs 中的文件；如添加内置的系统应用，修改资源文件，修改字体等等；请注意：请不要轻易删除两仪 rootfs 中的二进制和库文件，否则可能会导致无法开机。</p><p>PS. 目前不支持替换 Launcher，请不要尝试替换自定义 Launcher。</p><h2 id="添加作者信息和描述" tabindex="-1">添加作者信息和描述 <a class="header-anchor" href="#添加作者信息和描述" aria-label="Permalink to &quot;添加作者信息和描述&quot;">​</a></h2><p>修改完毕 rootfs 之后，建议添加作者以及 ROM 相关信息；在 rootfs 目录下有一个 <code>rom.ini</code> 文件；此文件格式如下：</p><div class="language-ini vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">ini</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">author</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=作者名字</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">code</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=12344 </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">#数字版本号</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">version</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=1.0.0-first </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 版本名</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">desc</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">=这是一个demo ROM</span></span></code></pre></div><h2 id="导入-rootfs" tabindex="-1">导入 rootfs <a class="header-anchor" href="#导入-rootfs" aria-label="Permalink to &quot;导入 rootfs&quot;">​</a></h2><p>修改完毕以后，通过 <code>7z</code> 工具将此目录压缩为 7z 文件；然后进入两仪，打开设置-替换ROM 选择您制作的 ROM 即可。</p></div></div></main><footer class="VPDocFooter" data-v-af495c62 data-v-8186dd3c><!--[--><!--]--><!----><!----></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!----><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"guide_android-12.md\":\"CPTqaZmR\",\"guide_contact.md\":\"DLNOs8Wh\",\"guide_customize-rootfs.md\":\"DnILMVm5\",\"guide_faq.md\":\"DZxP4T7v\",\"guide_getting-started.md\":\"BRFq19OT\",\"guide_gms.md\":\"D4jIc3hz\",\"guide_index.md\":\"BvE38nGU\",\"guide_manage-files.md\":\"DqOQ2E6z\",\"guide_myapp.md\":\"U4BqiLsH\",\"guide_sponsor.md\":\"VuZFOAbM\",\"guide_taichi.md\":\"F8AMXQOb\",\"index.md\":\"CchkFbnp\",\"privacy.md\":\"D97HfOQY\",\"zh_guide_android-12.md\":\"BvPUsQWF\",\"zh_guide_contact.md\":\"MwWFZoYY\",\"zh_guide_customize-rootfs.md\":\"Ck_hgvwq\",\"zh_guide_faq.md\":\"C2iHrjbr\",\"zh_guide_getting-started.md\":\"Dlaq5Laz\",\"zh_guide_gms.md\":\"16E_3spC\",\"zh_guide_index.md\":\"BUlsAKFi\",\"zh_guide_manage-files.md\":\"DsArdn_7\",\"zh_guide_myapp.md\":\"Cm20wT1G\",\"zh_guide_sponsor.md\":\"1TzX6bus\",\"zh_guide_taichi.md\":\"Bf-5KpQN\",\"zh_index.md\":\"Bfmw4QKx\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"两仪\",\"description\":\"一个轻量级的 Android 容器\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"locales\":{\"/\":{\"selectText\":\"Languages\",\"label\":\"English\",\"ariaLabel\":\"Languages\",\"editLinkText\":\"Edit this page on GitHub\",\"lastUpdated\":\"Last Updated\",\"nav\":[{\"text\":\"Guide\",\"link\":\"/\",\"activeMatch\":\"^/$|^/guide/\"},{\"text\":\"Github\",\"link\":\"https://github.com/twoyi/twoyi\"},{\"text\":\"Download\",\"link\":\"https://github.com/twoyi/twoyi/releases\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"Getting started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Customizing ROM\",\"link\":\"/guide/customize-rootfs\"},{\"text\":\"Manage files\",\"link\":\"/guide/manage-files\"},{\"text\":\"Google Mobile Service\",\"link\":\"/guide/gms\"},{\"text\":\"Contact me\",\"link\":\"/guide/contact\"},{\"text\":\"FAQ\",\"link\":\"/guide/faq\"},{\"text\":\"My Apps\",\"link\":\"/guide/myapp\"},{\"text\":\"Sponsor\",\"link\":\"/guide/sponsor\"}],\"/\":[{\"text\":\"Introduction\",\"link\":\"/guide/\"},{\"text\":\"Getting started\",\"link\":\"/guide/getting-started\"},{\"text\":\"Customizing ROM\",\"link\":\"/guide/customize-rootfs\"},{\"text\":\"Manage files\",\"link\":\"/guide/manage-files\"},{\"text\":\"Google Mobile Service\",\"link\":\"/guide/gms\"},{\"text\":\"Contact me\",\"link\":\"/guide/contact\"},{\"text\":\"FAQ\",\"link\":\"/guide/faq\"},{\"text\":\"My Apps\",\"link\":\"/guide/myapp\"},{\"text\":\"Sponsor\",\"link\":\"/guide/sponsor\"}]}},\"/zh/\":{\"selectText\":\"选择语言\",\"label\":\"简体中文\",\"editLinkText\":\"在 GitHub 上编辑此页\",\"nav\":[{\"text\":\"指南\",\"link\":\"/\",\"activeMatch\":\"^/$|^/guide/\"},{\"text\":\"Github\",\"link\":\"https://github.com/twoyi/twoyi\"},{\"text\":\"下载\",\"link\":\"https://github.com/twoyi/twoyi/releases\"}],\"sidebar\":{\"/guide/\":[{\"text\":\"什么是两仪\",\"link\":\"/guide/\"},{\"text\":\"开始使用\",\"link\":\"/guide/getting-started\"},{\"text\":\"制作 ROM\",\"link\":\"/guide/customize-rootfs\"},{\"text\":\"管理文件\",\"link\":\"/guide/manage-files\"},{\"text\":\"谷歌服务\",\"link\":\"/guide/gms\"},{\"text\":\"联系我\",\"link\":\"/guide/contact\"},{\"text\":\"常见问题\",\"link\":\"/guide/faq\"},{\"text\":\"其他作品\",\"link\":\"/guide/myapp\"},{\"text\":\"赞助\",\"link\":\"/guide/sponsor\"}],\"/\":[{\"text\":\"什么是两仪\",\"link\":\"/guide/\"},{\"text\":\"开始使用\",\"link\":\"/guide/getting-started\"},{\"text\":\"制作 ROM\",\"link\":\"/guide/customize-rootfs\"},{\"text\":\"管理文件\",\"link\":\"/guide/manage-files\"},{\"text\":\"谷歌服务\",\"link\":\"/guide/gms\"},{\"text\":\"联系我\",\"link\":\"/guide/contact\"},{\"text\":\"常见问题\",\"link\":\"/guide/faq\"},{\"text\":\"其他作品\",\"link\":\"/guide/myapp\"},{\"text\":\"赞助\",\"link\":\"/guide/sponsor\"}]}}}},\"locales\":{\"/\":{\"lang\":\"en-US\",\"title\":\"Twoyi\",\"description\":\"A Rootless lightweight Android container\"},\"/zh/\":{\"lang\":\"zh-CN\",\"title\":\"两仪\",\"description\":\"一个轻量级的免 ROOT Android 容器\"}},\"scrollOffset\":134,\"cleanUrls\":false}");</script>
    
  </body>
</html>